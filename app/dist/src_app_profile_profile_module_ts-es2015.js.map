{"version":3,"file":"src_app_profile_profile_module_ts-es2015.js","mappings":"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","sources":["./src/app/profile/edit-profile/edit-profile.component.ts","./src/app/profile/edit-profile/edit-profile.component.html","./src/app/profile/profile-routing.module.ts","./src/app/profile/profile.module.ts","./src/app/shared/services/profile.service.ts"],"sourcesContent":["import { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport {\n  FormBuilder,\n  FormGroup,\n  ValidationErrors,\n  Validators,\n} from \"@angular/forms\";\nimport { Subscription } from \"rxjs\";\nimport { AuthService } from \"src/app/auth/auth.service\";\nimport { HelperService } from \"src/app/shared/services/helper.service\";\nimport { ProfileService } from \"src/app/shared/services/profile.service\";\nimport { TransactionService } from \"src/app/transactions/transaction.service\";\n\n@Component({\n  selector: \"app-edit-profile\",\n  templateUrl: \"./edit-profile.component.html\",\n  styleUrls: [\"./edit-profile.component.scss\"],\n})\nexport class EditProfileComponent implements OnInit, OnDestroy {\n  userInfo;\n  passwordForm: FormGroup;\n  userForm: FormGroup;\n  private passwordRegex = /^(?=.*[0-9])(?=.*[a-zA-Z])([ A-Za-z0-9_@./#&+-]+)$/;\n  isLoading: boolean = false;\n  isStaff: boolean;\n  isVend: boolean;\n  cashingOut: boolean;\n  profileSubb: Subscription;\n  // changingPassword: boolean = false\n\n  constructor(\n    private helperService: HelperService,\n    private authService: AuthService,\n    private fb: FormBuilder,\n    private transactionService: TransactionService,\n    private profileService: ProfileService\n  ) {}\n\n  ngOnInit(): void {\n    this.authService.getProfileListener().subscribe((isLoading) => {\n      this.isLoading = isLoading;\n      isLoading ? null : this.getUserInfo();\n    });\n    this.getUserInfo();\n\n    this.getuserGroup();\n  }\n\n  ngOnDestroy(): void {\n    this.profileSubb.unsubscribe();\n  }\n\n  onCashout() {\n    this.cashingOut = true;\n    this.transactionService.cashout(null);\n  }\n\n  readUrl(event) {\n    this.isLoading = true;\n    const file = (event.target as HTMLInputElement).files[0];\n    const reader = new FileReader();\n    let imagePreview;\n    reader.onload = () => {\n      imagePreview = reader.result as string;\n      this.authService.updateUser({ image: imagePreview });\n    };\n    reader.readAsDataURL(file);\n  }\n\n  testUrl(event) {\n    this.isLoading = true;\n    const file = (event.target as HTMLInputElement).files[0];\n    const reader = new FileReader();\n    let imagePreview;\n    let images: any[] = [];\n    reader.onload = () => {\n      console.log(file);\n      // imagePreview = reader.result as string;\n      // images.push(file);\n      // images.push(file);\n      // this.authService.test({ images, category: 1 });\n    };\n    reader.readAsDataURL(file);\n  }\n\n  getuserGroup() {\n    const userGroup = this.helperService.getUserGroup();\n    switch (userGroup) {\n      case \"emp\":\n        this.isStaff = true;\n        break;\n      case \"ven\":\n        this.isVend = true;\n        // this.getCompanyArray()\n        break;\n        // case 'sid':\n        //   this.isSid = true;\n        //   break;\n        // case 'comp':\n        //   this.isComp = true;\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  get first_name() {\n    return this.userForm.get(`first_name`);\n  }\n\n  get last_name() {\n    return this.userForm.get(`last_name`);\n  }\n\n  get old_password() {\n    return this.passwordForm.get(`old_password`);\n  }\n\n  get new_password() {\n    return this.passwordForm.get(`new_password`);\n  }\n\n  getUserInfo() {\n    this.profileSubb = this.profileService\n      .getUSerInfo()\n      .subscribe((userInfo) => {\n        console.log(userInfo);\n        this.userInfo = userInfo;\n        this.userForm = this.fb.group({\n          first_name: [this.userInfo?.first_name, Validators.required],\n          last_name: [this.userInfo?.last_name, Validators.required],\n        });\n\n        this.passwordForm = this.fb.group(\n          {\n            old_password: [\"\", Validators.required],\n            new_password: [\n              \"\",\n              [\n                Validators.required,\n                Validators.minLength(8),\n                Validators.pattern(this.passwordRegex),\n              ],\n            ],\n            confirm_password: [\"\", Validators.required],\n          },\n          {\n            validators: passwordMatch,\n          }\n        );\n      });\n  }\n\n  updateUser() {\n    this.isLoading = true;\n    if (this.userForm.invalid) {\n      this.helperService.validateAllFormFields(this.userForm);\n      this.isLoading = false;\n      return;\n    }\n    this.authService.updateUser(this.userForm.value);\n  }\n\n  changePassword() {\n    this.isLoading = true;\n    if (this.passwordForm.invalid) {\n      this.helperService.validateAllFormFields(this.passwordForm);\n      this.isLoading = false;\n      return;\n    }\n    this.authService.changePassword({\n      old_password: this.passwordForm.value.old_password,\n      new_password: this.passwordForm.value.new_password,\n    });\n  }\n}\n\nfunction passwordMatch(formGroup: FormGroup): ValidationErrors | undefined {\n  const passwordControl = formGroup.get(\"new_password\");\n  const confirmPasswordControl = formGroup.get(\"confirm_password\");\n\n  if (passwordControl.value === confirmPasswordControl.value) {\n    return null;\n  } else {\n    return {\n      passwordMatch: true,\n    };\n  }\n}\n","<!-- Container-fluid starts-->\n<div class=\"mb-5 container-fluid\">\n  <div class=\"edit-profile\">\n    <div class=\"row\">\n      <div class=\"col-lg-4\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h4 class=\"mb-0 card-title\">My Profile</h4>\n            <div class=\"card-options\"><a class=\"card-options-collapse\" [routerLink]=\"\" data-toggle=\"card-collapse\"><i\n                  class=\"fe fe-chevron-up\"></i></a><a class=\"card-options-remove\" [routerLink]=\"\"\n                data-toggle=\"card-remove\"><i class=\"fe fe-x\"></i></a></div>\n          </div>\n          <div class=\"card-body\">\n            <form *ngIf=\"userInfo\">\n              <div class=\"mb-2 row\">\n                <div class=\"col-auto profile-pic\">\n                  <img class=\"img-60 rounded-circle\" [src]=\"userInfo?.image\" [alt]=\"userInfo.first_name\">\n                  <!-- <img class=\"img-60 rounded-circle\" [src]=\"'/assets/images/user/1.jpg'\" alt=\"#\"> -->\n                  <i [ngClass]=\"{'icofont icofont-pencil-alt-5': isLoading == false, 'fa fa-spin fa-cog': isLoading == true}\"\n                    class=\"edit\">\n                    <input multiple=true class=\"upload\" type=\"file\" (change)=\"readUrl($event)\" />\n                  </i>\n                </div>\n                <div class=\"col\">\n                  <h3 class=\"mb-1\">{{userInfo?.first_name | titlecase}} {{userInfo?.last_name | titlecase}}</h3>\n                  <p class=\"mb-4\">{{userInfo?.staff_level | titlecase}} {{userInfo?.department | uppercase}}</p>\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <label class=\"form-label\">Email-Address</label>\n                <input disabled class=\"form-control\" [value]=\"userInfo?.email | lowercase\"\n                  placeholder=\"your-email@domain.com\">\n              </div>\n              <div class=\"form-group\">\n                <label class=\"form-label\">Wallet Balance</label>\n                <input disabled class=\"form-control\"\n                  [value]=\"userInfo?.personal_balance | currency:'NGN' : '₦' : '1.0-0'\">\n              </div>\n              <div *ngIf=\"isStaff\" class=\"form-group\">\n                <label class=\"form-label\">Daily Limit Left</label>\n                <input disabled class=\"form-control\"\n                  [value]=\"userInfo?.today_daily_limit_left | currency:'NGN' : '₦' : '1.0-0'\">\n              </div>\n\n              <div class=\"form-footer\">\n                <ng-container *ngIf=\"isStaff\">\n                  <button [routerLink]=\"['/transactions/topup-personal']\" routerLinkActive=\"router-link-active\"\n                    class=\"btn btn-primary btn-block\">Top up</button>\n                </ng-container>\n                <ng-container *ngIf=\"isVend\">\n                  <button type=\"button\" (click)=\"onCashout()\" class=\"btn btn-primary btn-block\">\n                    <i *ngIf=\"cashingOut\" class=\"fa fa-spin fa-spinner\"></i>\n                    Cash out\n                  </button>\n                </ng-container>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-lg-8\">\n        <div class=\"col-lg-12\">\n          <form *ngIf=\"userInfo\" (submit)=\"updateUser()\" [formGroup]=\"userForm\" class=\"card\">\n            <div class=\"card-header\">\n              <h4 class=\"mb-0 card-title\">Edit Profile</h4>\n              <div class=\"card-options\"><a class=\"card-options-collapse\" [routerLink]=\"\" data-toggle=\"card-collapse\"><i\n                    class=\"fe fe-chevron-up\"></i></a><a class=\"card-options-remove\" [routerLink]=\"\"\n                  data-toggle=\"card-remove\"><i class=\"fe fe-x\"></i></a></div>\n            </div>\n            <div class=\"card-body\">\n              <div class=\"row\">\n\n                <div class=\"col-sm-6 col-md-6\">\n                  <div class=\"form-group\">\n                    <label class=\"form-label\">First Name</label>\n                    <input formControlName=\"first_name\" class=\"form-control\" type=\"text\" placeholder=\"Company\">\n                    <div *ngIf=\"first_name.touched && first_name.errors?.required\" class=\"text text-danger\">\n                      First Name is required.\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-sm-6 col-md-6\">\n                  <div class=\"form-group\">\n                    <label class=\"form-label\">Last Name</label>\n                    <input formControlName=\"last_name\" class=\"form-control\" type=\"text\" placeholder=\"Last Name\">\n                    <div *ngIf=\"last_name.touched && last_name.errors?.required\" class=\"text text-danger\">\n                      Last Name is required.\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n            <div class=\"text-right card-footer\">\n              <button [disabled]=\"isLoading == true\" class=\"btn btn-primary\" type=\"submit\">\n                <i *ngIf=\"isLoading\" class=\"mr-2 fa fa-spin fa-spinner\"></i>\n                Update Profile\n              </button>\n            </div>\n          </form>\n        </div>\n        <div class=\"mb-5 col-lg-12\">\n          <form *ngIf=\"userInfo\" (submit)=\"changePassword()\" [formGroup]=\"passwordForm\" class=\"card\">\n            <div class=\"card-header\">\n              <h4 class=\"mb-0 card-title\">Change Password</h4>\n              <div class=\"card-options\"><a class=\"card-options-collapse\" [routerLink]=\"\" data-toggle=\"card-collapse\"><i\n                    class=\"fe fe-chevron-up\"></i></a><a class=\"card-options-remove\" [routerLink]=\"\"\n                  data-toggle=\"card-remove\"><i class=\"fe fe-x\"></i></a></div>\n            </div>\n            <div class=\"card-body\">\n              <div class=\"row\">\n\n                <div class=\"col-sm-12 col-md-8\">\n                  <div class=\"form-group\">\n                    <label class=\"form-label\">Old Password</label>\n                    <input formControlName=\"old_password\" class=\"form-control\" type=\"password\"\n                      placeholder=\"Old Password\">\n                  </div>\n                </div>\n                <div class=\"col-sm-12 col-md-8\">\n                  <div class=\"form-group\">\n                    <label class=\"form-label\">New Password</label>\n                    <input formControlName=\"new_password\" class=\"form-control\" type=\"password\"\n                      placeholder=\"New Password\">\n                    <div *ngIf=\"new_password.invalid && (new_password.dirty || new_password.touched)\">\n                      <div *ngIf=\"new_password.hasError('required')\">\n                        <small class=\"form-text text-danger\">\n                          Password is a required field\n                        </small>\n                      </div>\n                      <small *ngIf=\"!new_password.hasError('minlength') && new_password.hasError('pattern')\"\n                        class=\"form-text text-danger\">\n                        password must be alphanumeric\n                      </small>\n                      <small *ngIf=\"new_password.hasError('minlength')\" class=\"form-text text-danger\">\n                        Password must be minimum 8 characters and alphanumeric\n                      </small>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-sm-12 col-md-8\">\n                  <div class=\"form-group\">\n                    <label class=\"form-label\">Confirm Password</label>\n                    <input formControlName=\"confirm_password\" class=\"form-control\" type=\"password\"\n                      placeholder=\"Confirm Password\">\n                    <div\n                      *ngIf=\"passwordForm.hasError('passwordMatch') && passwordForm.get('new_password').touched && passwordForm.get('confirm_password').touched\"\n                      class=\"text text-danger\">\n                      Passwords Don't Match.\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n            <div class=\"text-right card-footer\">\n              <button [disabled]=\"isLoading == true\" class=\"btn btn-primary\" type=\"submit\">\n                <i *ngIf=\"isLoading\" class=\"mr-2 fa fa-spin fa-spinner\"></i>\n                Change Password\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<!-- Container-fluid Ends-->\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { EditProfileComponent } from './edit-profile/edit-profile.component';\n\nconst routes: Routes = [{\n  path: 'edit',\n  component: EditProfileComponent\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ProfileRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ProfileRoutingModule } from './profile-routing.module';\nimport { EditProfileComponent } from './edit-profile/edit-profile.component';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [\n    EditProfileComponent\n  ],\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    ProfileRoutingModule\n  ]\n})\nexport class ProfileModule { }\n","import { Injectable } from \"@angular/core\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { BehaviorSubject, Subject } from \"rxjs\";\nimport { shareReplay } from \"rxjs/operators\";\nimport { environment } from \"../../../environments/environment\";\nimport { ErrorService } from \"./error.service\";\nimport { NotificationService } from \"./notification.service\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class ProfileService {\n  private apiUrl = environment.url;\n  private userInfo: any = null;\n  private userInfoListener = new BehaviorSubject(null);\n\n  constructor(\n    private http: HttpClient,\n    private notificationService: NotificationService,\n    private errorService: ErrorService\n  ) {}\n\n  getUSerInfo() {\n    this.http\n      .get(`${this.apiUrl}auth/user-info/`)\n      // .pipe(shareReplay())\n      .subscribe(\n        (res) => {\n          this.userInfo = res;\n          this.userInfoListener.next(this.userInfo);\n        },\n        (err) => {\n          this.notificationService.warning(`Error`, `Failed to load user info`);\n          this.userInfoListener.next(null);\n        }\n      );\n    return this.userInfoListener.asObservable();\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}